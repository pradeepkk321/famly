{
  "id" : "patient-fhir-to-json-v1",
  "name" : "Patient FHIR to JSON",
  "sourceType" : "Patient",
  "targetType" : "PatientDTO",
  "version" : "1.0.0",
  "direction" : "FHIR_TO_JSON",
  "fieldMappings" : [ {
    "id" : "patient-id-reverse",
    "sourcePath" : "identifier[0].value",
    "targetPath" : "patientId",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : true,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-ssn-reverse",
    "sourcePath" : "identifier[1].value",
    "targetPath" : "ssn",
    "dataType" : null,
    "transformExpression" : "value != null && value.length() == 9 ? fn.concat(value.substring(0,3), '-', value.substring(3,5), '-', value.substring(5,9)) : value",
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-firstname-reverse",
    "sourcePath" : "name[0].given[0]",
    "targetPath" : "firstName",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : true,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-middlename-reverse",
    "sourcePath" : "name[0].given[1]",
    "targetPath" : "middleName",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-lastname-reverse",
    "sourcePath" : "name[0].family",
    "targetPath" : "lastName",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : true,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-suffix-reverse",
    "sourcePath" : "name[0].suffix[0]",
    "targetPath" : "suffix",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-gender-reverse",
    "sourcePath" : "gender",
    "targetPath" : "gender",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : "gender-lookup-reverse",
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-birthdate-reverse",
    "sourcePath" : "birthDate",
    "targetPath" : "dateOfBirth",
    "dataType" : "date",
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-marital-status-reverse",
    "sourcePath" : "maritalStatus.coding[0].code",
    "targetPath" : "maritalStatus",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : "marital-status-lookup-reverse",
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-deceased-reverse",
    "sourcePath" : "deceasedBoolean",
    "targetPath" : "isDeceased",
    "dataType" : "boolean",
    "transformExpression" : null,
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-email-reverse",
    "sourcePath" : "telecom[0].value",
    "targetPath" : "emailAddress",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "telecom != null && telecom.size() > 0 && telecom[0].system == 'email'",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-phone-reverse",
    "sourcePath" : "telecom[1].value",
    "targetPath" : "mobilePhone",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "telecom != null && telecom.size() > 1",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-address-line1-reverse",
    "sourcePath" : "address[0].line[0]",
    "targetPath" : "homeAddress.line1",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "address != null && address.size() > 0",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-address-line2-reverse",
    "sourcePath" : "address[0].line[1]",
    "targetPath" : "homeAddress.line2",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "address != null && address.size() > 0 && address[0].line.size() > 1",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-address-city-reverse",
    "sourcePath" : "address[0].city",
    "targetPath" : "homeAddress.city",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "address != null && address.size() > 0",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-address-state-reverse",
    "sourcePath" : "address[0].state",
    "targetPath" : "homeAddress.state",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "address != null && address.size() > 0",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-address-zip-reverse",
    "sourcePath" : "address[0].postalCode",
    "targetPath" : "homeAddress.zip",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "address != null && address.size() > 0",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-address-country-reverse",
    "sourcePath" : "address[0].country",
    "targetPath" : "homeAddress.country",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "address != null && address.size() > 0",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-race-reverse",
    "sourcePath" : "extension[0].extension[0].valueCoding.code",
    "targetPath" : "race",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "extension != null && extension.size() > 0",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-ethnicity-reverse",
    "sourcePath" : "extension[1].extension[0].valueCoding.code",
    "targetPath" : "ethnicity",
    "dataType" : null,
    "transformExpression" : null,
    "condition" : "extension != null && extension.size() > 1",
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  }, {
    "id" : "patient-org-id-reverse",
    "sourcePath" : "managingOrganization.reference",
    "targetPath" : "organizationId",
    "dataType" : null,
    "transformExpression" : "value != null && value.startsWith('Organization/') ? value.substring(13) : value",
    "condition" : null,
    "validator" : null,
    "required" : false,
    "defaultValue" : null,
    "lookupTable" : null,
    "lookupSourceField" : null,
    "description" : null
  } ]
}